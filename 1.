#include <iostream>
#include <cstring>

using namespace std;

class Potpisuvac
{
	char ime[20];
	char prezime[20];
	char embg[14];
	public:
	Potpisuvac(char ime[20]="noname", char prezime[20]="nosurname", char embg[14]="0")
	{
	strcpy(this->ime , ime);
	strcpy(this->prezime, prezime);
	strcpy(this->embg ,embg);
	}

	Postpisuvac(const Potpisuvac & other)
	{
	strcpy(this->ime, other.ime);
	strcpy(this->prezime, other.prezime);
	strcpy(this->embg ,other.embg);
	}

   char getid()
   {
       return embg[14];
   }
};
class Dogovor
{
    int broj;
    char kategorija[20];
    Potpisuvac p;
public:
    dogovor(int broj=0, char kategorija[20]="noname", Potpisuvac q= Potpisuvac())
    {
        this->broj=broj;
        strcpy(this->kategorija,kategorija);
        this->p=q;
    }

};
bool proverka(Potpisuvac p1, Potpisuvac p2, Potpisuvac p3)
    {
        bool flag;
        if(p1.getid()==p2.getid())
        {
            return true;
        }
        else if(p1.getid()==p3.getid())
        {
            return true;
        }
        else if(p2.getid()==p3.getid())
        {
            return true;
        }
        else
            return false;
    }
int main()
{
    char embg[13], ime[20], prezime[20], kategorija[20];
    int broj, n;
    cin >> n;
    /*for(int i = 0; i < n; i++){
    	cin >> embg >> ime >> prezime;
    	Potpisuvac p1(ime, prezime, embg);
    	cin >> embg >> ime >> prezime;
    	Potpisuvac p2(ime, prezime, embg);
    	cin >> embg >> ime >> prezime;
    	Potpisuvac p3(ime, prezime, embg);
    	cin >> broj >> kategorija;
    	Potpisuvac p[3];
    	p[0] = p1; p[1] = p2; p[2] = p3;
    	Dogovor d(broj, kategorija, p);
        cout << "Dogovor " << broj << ":" << endl;
    	if(d.proverka() == true)
    	    cout << "Postojat potpishuvaci so ist EMBG" << endl;
    	else
    	    cout << "Ne postojat potpishuvaci so ist EMBG" << endl;
    }
    */

       Potpisuvac* p=(Potpisuvac*)malloc(sizeof(Potpisuvac)* 3);
        for(int i = 0; i < n; i++){
    	cin >> embg >> ime >> prezime;
    	Potpisuvac p[i]=Potpisuvac(ime, prezime, embg);
        cin >> broj >> kategorija;
    	Dogovor d(broj, kategorija, p[i]);
        cout << "Dogovor " << broj << ":" << endl;
    	if(proverka(p[0],p[1],p[2]) == true)
    	    cout << "Postojat potpishuvaci so ist EMBG" << endl;
    	else
    	    cout << "Ne postojat potpishuvaci so ist EMBG" << endl;
        }

    return 0;
}
